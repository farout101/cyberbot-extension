const t=[];chrome.action.onClicked.addListener(e=>{chrome.sidePanel.setOptions({tabId:e.id,path:"sidepanel.html",enabled:!0}),chrome.sidePanel.open({tabId:e.id})});chrome.webRequest.onCompleted.addListener(e=>{if(e.url.startsWith("chrome-extension://"))return;const n={url:e.url,method:e.method,statusCode:e.statusCode,type:e.type,timeStamp:new Date(e.timeStamp).toLocaleTimeString()};t.push(n),t.length>100&&t.shift(),chrome.runtime.sendMessage({type:"NETWORK_LOG_UPDATE",payload:n})},{urls:["<all_urls>"]});chrome.runtime.onMessage.addListener((e,n,o)=>{e.type==="GET_NETWORK_LOGS"&&o({logs:t})});
